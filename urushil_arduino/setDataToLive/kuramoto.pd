#N canvas 390 177 172 278 10;
#X obj 18 -198 inlet;
#X floatatom 18 -173 5 0 0 0 - - -;
#X text 25 -24 引き込み処理;
#N canvas 595 22 537 722 entrainment 1;
#X floatatom 24 99 10 0 0 2 Σsin(φj-φi) - -;
#N canvas 748 123 206 195 K/N 0;
#X obj 74 62 loadbang;
#X obj 25 130 /;
#X floatatom 25 105 5 0 0 0 - - -;
#X text 23 85 結合強度;
#X text 74 85 オブジェクト数;
#X text 23 35 係数(結合強度/オブジェクト数);
#X obj 25 157 outlet;
#X obj 25 62 r K;
#X msg 74 105 6;
#X connect 0 0 8 0;
#X connect 1 0 6 0;
#X connect 2 0 1 0;
#X connect 7 0 2 0;
#X connect 8 0 1 1;
#X restore 64 123 pd K/N;
#X text 111 123 係数(結合強度/オブジェクト数);
#X obj 49 170 *;
#X obj 73 267 +;
#X floatatom 49 194 10 0 0 0 - - -;
#X text 109 44 他オブジェクトとの;
#X text 109 59 位相差の正弦値の総和;
#X floatatom 64 146 10 0 0 0 - - -;
#X obj 88 218 inlet;
#X floatatom 88 242 10 0 0 0 - - -;
#X text 24 6 蔵本モデルによる引き込み演算;
#X obj 130 447 \$1;
#X obj 103 502 +;
#X obj 103 699 outlet;
#X obj 103 425 t f b;
#X floatatom 103 625 10 0 0 0 - - -;
#X text 126 217 固有振動数（ωi）;
#X text 109 74 Σsin(φj-φi);
#X floatatom 103 315 10 0 0 2 瞬間の固有振動数の変化量(Δω)
- -;
#N canvas 387 149 385 504 sigma_sin 0;
#X obj 32 165 until;
#X obj 32 141 t f b;
#X obj 115 290 -;
#X obj 115 375 +;
#X floatatom 160 375 5 0 0 0 - - -;
#X msg 160 350 0;
#X obj 95 418 f;
#X obj 32 63 inlet;
#X obj 95 464 outlet;
#X obj 115 312 sin;
#X text 141 294 位相差の正弦値;
#X text 26 18 他オブジェクトとの;
#X text 26 33 位相差の正弦値の総和;
#X floatatom 95 442 5 0 0 0 - - -;
#X obj 183 216 \$1;
#X obj 32 86 t b b;
#X text 211 215 自オブジェクトの位相を取得;
#X text 40 215 各オブジェクトの位相を取得;
#X text 132 396 総和;
#X text 188 350 初期化;
#X obj 32 237 tabread obj_phase;
#X obj 183 237 tabread obj_phase;
#X text 142 307 sin(φj-φi);
#X text 132 414 Σsin(φj-φi);
#X text 140 33 Σsin(φj-φi);
#X obj 95 375 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 77 165 clear;
#X msg 32 117 6;
#X obj 32 191 counter 0 5;
#X text 62 116 オブジェクト数;
#X connect 0 0 28 0;
#X connect 1 0 0 0;
#X connect 1 1 26 0;
#X connect 1 1 5 0;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 3 0 6 1;
#X connect 4 0 3 1;
#X connect 5 0 4 0;
#X connect 6 0 13 0;
#X connect 7 0 15 0;
#X connect 9 0 3 0;
#X connect 13 0 8 0;
#X connect 14 0 21 0;
#X connect 15 0 27 0;
#X connect 15 1 14 0;
#X connect 20 0 2 0;
#X connect 21 0 2 1;
#X connect 25 0 6 0;
#X connect 26 0 28 0;
#X connect 27 0 1 0;
#X connect 28 0 20 0;
#X connect 28 1 25 0;
#X restore 24 59 pd sigma_sin;
#X text 104 266 dω/dt = ωi+(K/N)Σsin(φj-φi);
#X text 74 169 (K/N)Σsin(φj-φi);
#X text 119 334 Δφ=Δωt かつ t=1 であるため;
#X text 118 350 固有振動数の変化量(Δω)は位相の変化量(Δφ)に等しい
;
#X text 117 370 現在の位相(φi)に位相の変化量(Δφ)を加算することで
;
#X text 117 387 引き込み処理後の位相(Φ)を求めることができる
;
#X text 135 504 Φ=φi+Δφ;
#X text 137 405 Φ=φi+Δφ;
#X text 135 489 引き込み処理による位相(Φ)の計算;
#X text 153 447 自オブジェクトの位相(φi)を取得;
#X text 201 648 位相の保存;
#X obj 267 677 \$1;
#X obj 162 651 t f b;
#X obj 24 32 r clock;
#X obj 130 469 tabread obj_phase;
#X obj 162 700 tabwrite obj_phase;
#X obj 130 547 pi;
#X obj 130 569 * 2;
#X obj 103 597 expr if($f1>$f2 \, $f1-$f2 \, $f1);
#X obj 103 524 t f b;
#X connect 0 0 3 0;
#X connect 1 0 8 0;
#X connect 3 0 5 0;
#X connect 4 0 19 0;
#X connect 5 0 4 0;
#X connect 8 0 3 1;
#X connect 9 0 10 0;
#X connect 10 0 4 1;
#X connect 12 0 35 0;
#X connect 13 0 40 0;
#X connect 15 0 13 0;
#X connect 15 1 12 0;
#X connect 16 0 14 0;
#X connect 16 0 33 0;
#X connect 19 0 15 0;
#X connect 20 0 0 0;
#X connect 32 0 36 1;
#X connect 33 0 36 0;
#X connect 33 1 32 0;
#X connect 34 0 20 0;
#X connect 35 0 13 1;
#X connect 37 0 38 0;
#X connect 38 0 39 1;
#X connect 39 0 16 0;
#X connect 40 0 39 0;
#X connect 40 1 37 0;
#X restore 18 -4 pd entrainment;
#X obj 18 23 outlet;
#X text 64 -149 ラジアン変換;
#X floatatom 18 -48 5 0 0 0 - - -;
#X text 17 -219 固有振動数（ω）;
#X obj 45 -122 pi;
#X obj 18 -100 *;
#X obj 18 -147 t f b;
#X obj 18 -76 / 180;
#X connect 0 0 1 0;
#X connect 1 0 10 0;
#X connect 3 0 4 0;
#X connect 6 0 3 0;
#X connect 8 0 9 1;
#X connect 9 0 11 0;
#X connect 10 0 9 0;
#X connect 10 1 8 0;
#X connect 11 0 6 0;
#X coords 0 278 1 277 50 40 0;
